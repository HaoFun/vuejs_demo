webpackJsonp([1],{"0jH9":function(t,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=a("Gu7T"),s=a.n(e),i=a("ssT3"),o={name:"Register",data:function(){return{captchaTpl:"",username:"",password:"",cpassword:"",captcha:"",msg:"",msgType:"",msgShow:!1}},created:function(){this.getCaptcha()},methods:{getCaptcha:function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"QWERTYUIOPLKJHGFDSAZXCVBNM1234567890",a="",e=[];try{e=[].concat(s()(Array(t))).map(function(){return r[Math.floor(Math.random()*r.length)]})}catch(t){}return e.forEach(function(t){a+='<span class="flex1 hcenter">'+t+"</span>"}),e=e.join(""),{tpl:a,captcha:e}}(6),r=t.tpl,a=t.captcha;this.captchaTpl=r,this.localCaptcha=a},register:function(t){var r=this;this.$nextTick(function(){("submit"===t.target.type?t.target:t.target.parentElement).canSubmit&&r.submit()})},submit:function(){if(this.captcha.toUpperCase()!==this.localCaptcha)this.showMsg("Captcha failed","warning"),this.getCaptcha();else{var t={name:this.username,password:this.password},r=this.$store.state.user;r&&r.name===t.name?this.showMsg("User exists","warning"):this.login(t)}},login:function(t){this.$store.dispatch("login",t),this.showMsg("success","success")},showMsg:function(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";this.msg=t,this.msgType=a,this.msgShow=!1,this.$nextTick(function(){r.msgShow=!0})},removels:function(){i.a.removeItem("user")}}},n={render:function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-md-offset-4 floating-box"},[a("Message",{attrs:{show:t.msgShow,type:t.msgType,msg:t.msg},on:{"update:show":function(r){t.msgShow=r}}}),t._v(" "),a("div",{staticClass:"panel panel-default"},[t._m(0),t._v(" "),a("div",{staticClass:"panel-body",attrs:{"data-validator-form":""}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"username"}},[t._v("User Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.username,expression:"username",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator:input.required",value:{regex:/^[a-zA-Z]+\w*\s?\w*$/,error:"用戶名必須已英文字母為首"},expression:"{ regex: /^[a-zA-Z]+\\w*\\s?\\w*$/, error: '用戶名必須已英文字母為首' }",arg:"input",modifiers:{required:!0}}],staticClass:"form-control",attrs:{type:"text",id:"username",name:"username",placeholder:"write a user name"},domProps:{value:t.username},on:{input:function(r){r.target.composing||(t.username=r.target.value.trim())},blur:function(r){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label",attrs:{for:"password"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator:input.required",value:{regex:/^\w{6,16}/,error:"密碼必須為 6 ~ 16 位"},expression:"{ regex: /^\\w{6,16}/, error: '密碼必須為 6 ~ 16 位'}",arg:"input",modifiers:{required:!0}}],staticClass:"form-control",attrs:{type:"password",id:"password",name:"password",placeholder:"write a password"},domProps:{value:t.password},on:{input:function(r){r.target.composing||(t.password=r.target.value.trim())},blur:function(r){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password-confirm"}},[t._v("Password Confirm")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.cpassword,expression:"cpassword",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator:input.required",value:{target:"#password"},expression:"{ target: '#password' }",arg:"input",modifiers:{required:!0}}],staticClass:"form-control",attrs:{type:"password",id:"password-confirm",name:"password-confirm",placeholder:"write a confirm password"},domProps:{value:t.cpassword},on:{input:function(r){r.target.composing||(t.cpassword=r.target.value.trim())},blur:function(r){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"captcha"}},[t._v("Captcha")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.captcha,expression:"captcha",modifiers:{trim:!0}},{name:"validator",rawName:"v-validator:input.required",value:{title:"圖片驗證碼"},expression:"{ title: '圖片驗證碼' }",arg:"input",modifiers:{required:!0}}],staticClass:"form-control",attrs:{type:"text",id:"captcha",name:"captcha",placeholder:"write a captcha"},domProps:{value:t.captcha},on:{input:function(r){r.target.composing||(t.captcha=r.target.value.trim())},blur:function(r){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"thumbnail",attrs:{title:"Reset captcha"},on:{click:t.getCaptcha}},[a("div",{staticClass:"captcha vcenter",domProps:{innerHTML:t._s(t.captchaTpl)}})]),t._v(" "),a("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"},on:{click:t.register}},[t._v("Submit")])])])],1)])},staticRenderFns:[function(){var t=this.$createElement,r=this._self._c||t;return r("div",{staticClass:"panel-heading"},[r("h3",{staticClass:"panel-title"},[this._v("Register Page")])])}]};var c=a("VU/8")(o,n,!1,function(t){a("PcKU")},"data-v-6f3bbdfc",null);r.default=c.exports},"5zde":function(t,r,a){a("zQR9"),a("qyJz"),t.exports=a("FeBl").Array.from},Gu7T:function(t,r,a){"use strict";r.__esModule=!0;var e,s=a("c/Tr"),i=(e=s)&&e.__esModule?e:{default:e};r.default=function(t){if(Array.isArray(t)){for(var r=0,a=Array(t.length);r<t.length;r++)a[r]=t[r];return a}return(0,i.default)(t)}},Mhyx:function(t,r,a){var e=a("/bQp"),s=a("dSzd")("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||i[s]===t)}},PcKU:function(t,r){},"c/Tr":function(t,r,a){t.exports={default:a("5zde"),__esModule:!0}},dY0y:function(t,r,a){var e=a("dSzd")("iterator"),s=!1;try{var i=[7][e]();i.return=function(){s=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,r){if(!r&&!s)return!1;var a=!1;try{var i=[7],o=i[e]();o.next=function(){return{done:a=!0}},i[e]=function(){return o},t(i)}catch(t){}return a}},fBQ2:function(t,r,a){"use strict";var e=a("evD5"),s=a("X8DO");t.exports=function(t,r,a){r in t?e.f(t,r,s(0,a)):t[r]=a}},msXi:function(t,r,a){var e=a("77Pl");t.exports=function(t,r,a,s){try{return s?r(e(a)[0],a[1]):r(a)}catch(r){var i=t.return;throw void 0!==i&&e(i.call(t)),r}}},qyJz:function(t,r,a){"use strict";var e=a("+ZMJ"),s=a("kM2E"),i=a("sB3e"),o=a("msXi"),n=a("Mhyx"),c=a("QRG4"),u=a("fBQ2"),l=a("3fs2");s(s.S+s.F*!a("dY0y")(function(t){Array.from(t)}),"Array",{from:function(t){var r,a,s,d,p=i(t),m="function"==typeof this?this:Array,f=arguments.length,v=f>1?arguments[1]:void 0,h=void 0!==v,g=0,w=l(p);if(h&&(v=e(v,f>2?arguments[2]:void 0,2)),void 0==w||m==Array&&n(w))for(a=new m(r=c(p.length));r>g;g++)u(a,g,h?v(p[g],g):p[g]);else for(d=w.call(p),a=new m;!(s=d.next()).done;g++)u(a,g,h?o(d,v,[s.value,g],!0):s.value);return a.length=g,a}})}});
//# sourceMappingURL=1.1535fbb49d837e4a0d36.js.map